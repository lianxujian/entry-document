!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";function i(e){var t={type:"get",url:"",params:null,callback:function(){}},n=Object.assign({},t,e),i=new XMLHttpRequest;if("get"==n.type&&n.params){var o="";for(var c in n.params)o+=c+"="+n.params[c];i.open(n.type,n.url+"?"+o,!0),i.send()}else i.open(n.type,n.url,!0),i.send(n.params);i.onreadystatechange=function(){200==i.status&&4==i.readyState&&n.callback(JSON.parse(i.responseText))}}function o(e,t){window.jsonp_callback=function(e){t(e)};var n=document.createElement("script");n.src=e+"&callback=jsonp_callback",document.querySelector("body").appendChild(n)}function c(e){for(var t=decodeURIComponent(location.search).split("?")[1],n=t.split("&"),i={},o=0;o<n.length;o++){var c=n[o].split("=");i[c[0]]=c[1]}return e?i[e]:i}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){var e='<div class="circle-wrap">\n\t\t\t\t<div class="circle circle-index1"></div>\n\t\t\t\t<div class="circle circle-index2"></div>\n\t\t\t\t<div class="circle circle-index3"></div>\n\t\t\t\t<div class="circle circle-index4"></div>\n\t\t\t\t<div class="circle circle-index5"></div>\n\t\t\t\t<div class="circle circle-index6"></div>\n\t\t\t\t<div class="circle circle-index7"></div>\n\t\t\t\t<div class="circle circle-index8"></div>\n\t\t\t</div>',t=document.createElement("div");t.className="loading",t.innerHTML=e,this.startLoading=function(e){var n=void 0;n="string"==typeof e?document.querySelector(e):"object"==("undefined"==typeof e?"undefined":r(e))?e:document.querySelector(".container"),this.parentDom=n,this.parentDom.appendChild(t)},this.stopLoading=function(){this.parentDom.removeChild(t),document.querySelector(".hotel-content")&&(document.querySelector(".hotel-content").innerHTML="")}},l=new a,u=function(e){var t=document.querySelectorAll(e);return Node.prototype.bind||(Node.prototype.bind=function(e,t,n){this.addEventListener("click",function(e){e.target.tagName.toLowerCase()==t&&n(e,t)},!1)}),NodeList.prototype.bind||(NodeList.prototype.bind=function(e,t,n){this.addEventListener("click",function(){n(t,index)},!1)}),1==t.length?t[0]:t};t.ajax=i,t.jsonp=o,t.getUrlParams=c,t.loading=l,t.getEle=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.Calendar=function(){function e(t){i(this,e),t.callback&&(this.callback=t.callback),this.year=t.initDate.getFullYear(),this.month=t.initDate.getMonth()+1,this.date=t.initDate.getDate(),this.calendarPlugin=document.querySelector(".calendar-plugin"),this.calendarMonths=document.querySelector(".calendar-months"),this.calendarBack=document.querySelector(".header .back"),this.prev=document.querySelector(".year-month .prev"),this.next=document.querySelector(".year-month .next"),this.yearMonthItems=document.querySelector(".year-month-items"),this.done=document.querySelector(".done"),this.liveInDate=document.querySelector(".live-in-date"),this.reduce=document.querySelector(".reduce"),this.count=document.querySelector(".count"),this.add=document.querySelector(".add"),this.render(this.year,this.month),this.bindEvent()}return o(e,[{key:"daysInOneMonth",value:function(e,t){var n=[1,3,5,7,8,10,12],i=[4,6,9,11],o=31;return t*=1,e*=1,2==t?o=e%4==0&&e%100!=0||e%400==0?29:28:n.indexOf(t)>-1?o=31:i.indexOf(t)>-1&&(o=30),o}},{key:"startInOneMonth",value:function(e,t){var n=new Date(e,t-1,1);return n.getDay()}},{key:"renderPrevMonth",value:function(e,t){for(var n=new Date(e,t-2),i=this.daysInOneMonth(n.getFullYear(),n.getMonth()+1),o=this.startInOneMonth(e,t),c="";o>0;)c+='<span class="prev-bg">'+(i-o+1)+"</span>",o--;return c}},{key:"renderCurrentMonth",value:function(e,t){for(var n="",i=1,o=this.daysInOneMonth(e,t);i<=o;)n+=i==this.date&&t==(new Date).getMonth()+1?'<span class="current-active">'+i+"</span>":i<=this.date&&t<=(new Date).getMonth()+1?'<span class="prev-bg">'+i+"</span>":"<span>"+i+"</span>",i++;return n}},{key:"render",value:function(e,t){this.calendarMonths.innerHTML=this.renderPrevMonth(e,t)+this.renderCurrentMonth(e,t),e=new Date(e,t-1).getFullYear(),t=new Date(e,t-1).getMonth(),this.yearMonthItems.innerHTML=e+"年"+(t+1)+"月",this.liveInDate.innerHTML=(new Date).getMonth()+1+"月"+this.date+"日"}},{key:"bindEvent",value:function(){var e=this;this.calendarBack.addEventListener("click",function(){e.hide()},!1),this.prev.addEventListener("click",function(){e.month=e.month-1,e.render(e.year,e.month)},!1),this.next.addEventListener("click",function(){e.month=e.month+1,e.render(e.year,e.month)},!1),this.calendarMonths.addEventListener("click",function(t){var n=t.target;n.classList.contains("prev-bg")||(document.querySelector(".current-active")&&document.querySelector(".current-active").classList.remove("current-active"),n.classList.add("current-active"),e.liveInDate.innerHTML=e.month+"月"+document.querySelector(".current-active").innerHTML+"日")},!1),this.done.addEventListener("click",function(){if(!document.querySelector(".current-active"))return void alert("请选择入住日!");e.hide();var t=document.querySelector(".current-active").innerHTML,n=e.month+"月"+t+"日",i=new Date(e.year,e.month-1,1*t+1*e.count.innerHTML).getMonth()+1,o=new Date(e.year,e.month-1,1*t+1*e.count.innerHTML).getDate(),c=e.count.innerHTML+"晚（"+i+"月"+o+"日离店）";e.callback&&e.callback(n,c)},!1),this.add.addEventListener("click",function(){e.count.innerHTML=1*e.count.innerHTML+1},!1),this.reduce.addEventListener("click",function(){e.count.innerHTML=1*e.count.innerHTML-1,e.count.innerHTML<=1&&(e.count.innerHTML=1)},!1)}},{key:"show",value:function(){this.calendarPlugin.classList.add("plugin-active")}},{key:"hide",value:function(){this.calendarPlugin.classList.remove("plugin-active")}}]),e}()},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.City=function(){function e(t){i(this,e);var n={data:[]},o=Object.assign({},n,t);this.alphabetWrap=document.querySelector(".city"),this.cities=document.querySelector(".cities"),this.detailCity=document.querySelector(".detail-city"),this.cityPlugin=document.querySelector(".city-plugin"),this.checkIn=document.querySelector(".check-in-hotel"),this.back=document.querySelector(".back"),this.uptop=document.querySelector(".uptop"),this.render(o.hotcity,o.cities),this.collectCityHeight(),this.bindEvent()}return o(e,[{key:"render",value:function(e,t){var n=this.alphabetWrap,i=this.cities,o=this.detailCity,c="",r="",a="";for(var l in e)c+="<span>"+e[l]+"</span>";t&&(t.forEach(function(e,t){r+='<span alpha="'+e.alpha+'">'+e.alpha+"</span>",a+='<div class="item-top" alpha="'+e.alpha+'">'+e.alpha+'</div>\n\t\t\t\t\t\t<div class="item-bottom">\n\t\t\t\t\t\t\t\t'+e.data.map(function(e,t){return"<p>"+e[0]+"</p>"}).join("")+"\n\t\t\t\t\t\t</div>"}),n.innerHTML=c,i.innerHTML=r,o.innerHTML=a)}},{key:"collectCityHeight",value:function(){var e=document.querySelectorAll("[alpha]"),t={};Array.from(e).forEach(function(e,n){t[e.getAttribute("alpha")]=e.offsetTop}),this.heightInfo=t}},{key:"bindEvent",value:function(){var e=this;this.cities.addEventListener("click",function(t){var n=t.target;"SPAN"==n.tagName&&(e.cityPlugin.scrollTop=e.heightInfo[n.getAttribute("alpha")])},!1),this.checkIn.addEventListener("click",function(){e.show(),e.cityPlugin.scrollTop=0},!1),this.detailCity.addEventListener("click",function(t){var n=t.target;e.hide(),e.uptop.classList.remove("block"),e.checkIn.innerHTML=n.innerHTML+'<i class=" icon iconfont icon-gengduo"></i>'},!1),this.alphabetWrap.addEventListener("click",function(t){var n=t.target;e.hide(),e.uptop.classList.remove("block"),e.checkIn.innerHTML=n.innerHTML+'<i class=" icon iconfont icon-gengduo"></i>'},!1),this.back.addEventListener("click",function(){e.hide(),e.uptop.classList.remove("block")}),this.uptop.addEventListener("click",function(){e.cityPlugin.scrollTop=0,e.uptop.classList.remove("block")},!1),this.cityPlugin.onscroll=function(){var t=e.cityPlugin.scrollTop;t>e.cityPlugin.clientHeight?e.uptop.classList.add("block"):e.uptop.classList.remove("block")}}},{key:"show",value:function(){this.cityPlugin.classList.add("plugin-active")}},{key:"hide",value:function(){this.cityPlugin.classList.remove("plugin-active")}}]),e}()},function(e,t,n){"use strict";function i(){var e=document.querySelector(".in-date"),t=document.querySelector(".out-date"),n=new Date,i=n.getFullYear(),o=n.getMonth()+1,c=n.getDate(),r=n.getHours();r>16&&(n=new Date(i+"-"+o+"-"+(c+1)),i=n.getFullYear(),o=n.getMonth()+1,c=n.getDate()),e.innerHTML=o+"月"+c+"日";var a=new Date(i,o-1,c+1),l=(a.getFullYear(),a.getMonth()+1),u=a.getDate();a.getHours();t.innerHTML="1晚（"+l+"月"+u+"日离店）"}Object.defineProperty(t,"__esModule",{value:!0}),t.date=i},function(e,t,n){"use strict";function i(){document.querySelector(".location").addEventListener("click",function(e){e.stopPropagation();var t=navigator.geolocation;t?t.getCurrentPosition(function(e){var t=e.coords;alert(t.latitude+","+t.longitude),(0,o.jsonp)("http://apis.map.qq.com/ws/geocoder/v1/?location="+t.latitude+","+t.longitude+"&key=RFEBZ-RRS3G-G7QQZ-IPWLE-2VNXQ-DMBZ5&output=jsonp&",function(e){console.log(e)})},function(e){switch(e.code){case e.TIMEOUT:console.log("A timeout occured! Please try again!");break;case e.POSITION_UNAVAILABLE:console.log("We can't detect your location. Sorry!");break;case e.PERMISSION_DENIED:console.log("Please allow geolocation access for this to work.");break;case e.UNKNOWN_ERROR:console.log("An unknown error occured!")}(0,o.jsonp)("http://apis.map.qq.com/ws/location/v1/ip?key=RFEBZ-RRS3G-G7QQZ-IPWLE-2VNXQ-DMBZ5&output=jsonp&",function(e){console.log(e)})},{enableHighAccuracy:!0,timeout:5e3,maximumAge:3e3}):alert("Your browser does not support Geolocation!")},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.location=i;var o=n(0)},,,,function(e,t,n){"use strict";var i=n(0),o=n(3),c=n(5),r=n(4),a=n(1),l=new a.Calendar({initDate:new Date,callback:function(e,t){document.querySelector(".in-date").innerHTML=e,document.querySelector(".out-date").innerHTML=t}}),u=[document.querySelector(".banner ul"),""],s=u[0],d=u[1],h=new Promise(function(e,t){(0,i.ajax)({url:"../../server/banner.json",callback:function(t){e(t)}})});h.then(function(e){e.forEach(function(e,t){d+='<li class="swiper-slide" style="background:url('+e.url+');background-size:100% 100%;"><a href="" title="'+e.title+'"></a></li>'}),s.innerHTML=d,new Swiper(".banner",{autoplay:1e3,loop:!0})});var p={};(0,i.ajax)({url:"../../server/hotcity.json",callback:function(e){p.hotcity=e,new o.City(p)}}),(0,i.ajax)({url:"../../server/cities.json",callback:function(e){p.cities=e,new o.City(p)}}),(0,r.date)(),(0,c.location)(),document.querySelector(".sousuo").addEventListener("click",function(){var e=document.querySelector(".check-in-hotel").innerText,t=document.querySelector(".in-date").innerHTML,n=document.querySelector(".out-date").innerHTML,i=document.querySelector(".txt").value,o="?city="+e+"&checkInDate="+t+"&checkOutDate="+n;i&&(o+="&hotelName="+i),window.location.href="list.html"+o},!1),document.querySelector(".in-date").addEventListener("click",function(){l.show()},!1),document.querySelector(".out-date").addEventListener("click",function(){l.show()},!1)}]);